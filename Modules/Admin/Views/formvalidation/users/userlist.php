<script>    $(document).ready(function () {        flatpickr("#daterange", {mode: "range", dateFormat: "d-m-Y"});                bindDatatable();        $('#searchsubmit').click(function () {            bindDatatable();        });        $('#addnew').click(function () {            window.location.href = "<?= ADMINPATH ?>user-add";        });        $('#download').click(function () {            var name = $("#name").val();            var mobile = $("#mobile").val();                        var status = $("#ustatus").val();            var daterange = $("#daterange").val();                        window.open("<?=ADMINPATH?>download-user-data?name="+name+"&mobile="+mobile+"&status="+status+"&daterange="+daterange, "_blank");        });    });        function bindDatatable(page = 0) {        if (page != 0) {            var page = parseInt(page) * 10;        }        var name = $("#name").val();        var mobile = $("#mobile").val();        var daterange = $("#daterange").val();        var status = $("#ustatus").val();        $('#userlist').DataTable().destroy();        $('#userlist').DataTable({            responsive: true,            searching: false,            processing: true,            ordering: true,            bLengthChange: false,            serverSide: true,            displayStart: page,            pageLength: 10,            order: [[0, 'desc']],            ajax: {                method: "POST",                url: '<?= ADMINPATH ?>users-data',                data: function (d) {                    d.name = name;                    d.mobile = mobile;                    d.daterange = daterange;                    d.status = status;                }            }        });    }           function deleteUser(id) {                Swal.fire({            title: "Are you sure?",            text: "Do you want to delete this user!",            icon: "warning",            showCancelButton: !0,            confirmButtonColor: "#2ab57d",            cancelButtonColor: "#fd625e",            confirmButtonText: "Yes, do it!"        }).then(function (e) {            if (e.isConfirmed == true) {                $.ajax({                    type: "POST",                    url: '<?= ADMINPATH ?>delete-admin-user',                    data: {encuser: id},                    success: function (data) {                        var jsonData = JSON.parse(data);                        if (jsonData.status == 'success') {                            var page = $('#userlist').DataTable().page.info().page;                            bindDatatable(page);                            Swal.fire("Updated!", jsonData.message, jsonData.status);                        } else {                            Swal.fire("Error!", jsonData.message, jsonData.status);                        }                    }                });            }        });    }</script>